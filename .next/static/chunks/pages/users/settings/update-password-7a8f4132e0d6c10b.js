(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{6039:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/settings/update-password",function(){return r(9422)}])},6471:function(e,n,r){"use strict";var t=r(5666),o=r.n(t),a=r(5893),s=r(9669),i=r.n(s),u=r(7294),c=r(6699),l=r.n(c);function f(e,n,r,t,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void r(c)}i.done?n(u):Promise.resolve(u).then(t,o)}function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){p(e,n,r[n])}))}return e}n.Z=function(e){var n,r=e.url,t=e.method,s=e.body,c=e.onSuccess,p=(0,u.useState)(null),_=p[0],h=p[1];return{doRequest:(n=o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(null),e.next=4,i()({method:t,url:r,data:d({},s),withCredentials:!0});case 4:return n=e.sent,c&&c(n.data),e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.message?h((0,a.jsxs)("div",{onClick:function(){return h(null)},className:l().errorBanner,children:[(0,a.jsx)("h4",{children:"Invalid parameters"}),(0,a.jsx)("ul",{style:{listStyle:"none"},children:e.t0.response.data.message.split(",").map((function(e){return(0,a.jsx)("li",{children:e.split(":").pop().replace("jwt malformed","You are not logged in!")},e)}))})]})):h((0,a.jsxs)("div",{onClick:function(){return h(null)},className:l().errorBanner,children:[(0,a.jsx)("h4",{children:"Ooops...."}),(0,a.jsx)("ul",{style:{listStyle:"none"},children:e.t0.response.data.errors.map((function(e){return(0,a.jsx)("li",{children:e.message},e.message)}))})]}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function s(e){f(a,t,o,s,i,"next",e)}function i(e){f(a,t,o,s,i,"throw",e)}s(void 0)}))}),errors:_}}},8418:function(e,n,r){"use strict";function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(u){o=!0,a=u}finally{try{t||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.default=void 0;var o,a=(o=r(7294))&&o.__esModule?o:{default:o},s=r(6273),i=r(387),u=r(7190);var c={};function l(e,n,r,t){if(e&&s.isLocalURL(n)){e.prefetch(n,r,t).catch((function(e){0}));var o=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;c[n+"%"+r+(o?"%"+o:"")]=!0}}var f=function(e){var n,r=!1!==e.prefetch,o=i.useRouter(),f=a.default.useMemo((function(){var n=t(s.resolveHref(o,e.href,!0),2),r=n[0],a=n[1];return{href:r,as:e.as?s.resolveHref(o,e.as):a||r}}),[o,e.href,e.as]),p=f.href,d=f.as,_=e.children,h=e.replace,m=e.shallow,v=e.scroll,y=e.locale;"string"===typeof _&&(_=a.default.createElement("a",null,_));var g=(n=a.default.Children.only(_))&&"object"===typeof n&&n.ref,x=t(u.useIntersection({rootMargin:"200px"}),2),w=x[0],b=x[1],C=a.default.useCallback((function(e){w(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,w]);a.default.useEffect((function(){var e=b&&r&&s.isLocalURL(p),n="undefined"!==typeof y?y:o&&o.locale,t=c[p+"%"+d+(n?"%"+n:"")];e&&!t&&l(o,p,d,{locale:n})}),[d,p,b,y,r,o]);var j={ref:C,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,r,t,o,a,i,u){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(r))&&(e.preventDefault(),null==i&&t.indexOf("#")>=0&&(i=!1),n[o?"replace":"push"](r,t,{shallow:a,locale:u,scroll:i}))}(e,o,p,d,h,m,v,y)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),s.isLocalURL(p)&&l(o,p,d,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var E="undefined"!==typeof y?y:o&&o.locale,L=o&&o.isLocaleDomain&&s.getDomainLocale(d,E,o&&o.locales,o&&o.domainLocales);j.href=L||s.addBasePath(s.addLocale(d,E,o&&o.defaultLocale))}return a.default.cloneElement(n,j)};n.default=f},7190:function(e,n,r){"use strict";function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(u){o=!0,a=u}finally{try{t||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,r=e.disabled||!s,u=o.useRef(),c=t(o.useState(!1),2),l=c[0],f=c[1],p=o.useCallback((function(e){u.current&&(u.current(),u.current=void 0),r||l||e&&e.tagName&&(u.current=function(e,n,r){var t=function(e){var n=e.rootMargin||"",r=i.get(n);if(r)return r;var t=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=t.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;n&&r&&n(r)}))}),e);return i.set(n,r={id:n,observer:o,elements:t}),r}(r),o=t.id,a=t.observer,s=t.elements;return s.set(e,n),a.observe(e),function(){s.delete(e),a.unobserve(e),0===s.size&&(a.disconnect(),i.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:n}))}),[r,n,l]);return o.useEffect((function(){if(!s&&!l){var e=a.requestIdleCallback((function(){return f(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[l]),[p,l]};var o=r(7294),a=r(9311),s="undefined"!==typeof IntersectionObserver;var i=new Map},9422:function(e,n,r){"use strict";r.r(n);var t=r(5666),o=r.n(t),a=r(5893),s=r(7294),i=r(1664),u=r(6471),c=r(1147),l=r.n(c),f=r(520),p=r.n(f);function d(e,n,r,t,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void r(c)}i.done?n(u):Promise.resolve(u).then(t,o)}n.default=function(){var e,n=(0,s.useState)(!1),r=n[0],t=n[1],c=(0,s.useState)(!1),f=c[0],_=c[1],h=(0,s.useState)(""),m=h[0],v=h[1],y=(0,s.useState)(""),g=y[0],x=y[1],w=(0,s.useState)(""),b=w[0],C=w[1],j=(0,u.Z)({url:"/api/users/update-password",method:"put",body:{currentPassword:m,newPassword:g}}),E=j.doRequest,L=j.errors,k=(e=o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t(!1),m&&g&&b){e.next=4;break}return e.abrupt("return");case 4:if(g===b){e.next=6;break}return e.abrupt("return",t(!0));case 6:return e.next=8,E();case 8:e.sent&&(_(!0),v(""),x(""),C(""));case 10:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){d(a,t,o,s,i,"next",e)}function i(e){d(a,t,o,s,i,"throw",e)}s(void 0)}))});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:l().bar,children:[(0,a.jsx)(i.default,{href:"/users/my-profile",children:(0,a.jsx)("a",{style:{height:"2rem"},children:(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10 10L19 19M1 19L10 10L1 19ZM19 1L9.99828 10L19 1ZM9.99828 10L1 1L9.99828 10Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,a.jsx)("h2",{children:"Password"})]}),(0,a.jsxs)("form",{onSubmit:k,className:l().wrap,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Current Password"}),(0,a.jsx)("input",{onChange:function(e){return v(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"New Password"}),(0,a.jsx)("input",{onChange:function(e){return x(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Confirm New Password"}),(0,a.jsx)("input",{onChange:function(e){return C(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]})]}),r&&(0,a.jsx)("span",{style:{fontSize:"var(--fs-mid)"},className:p().err,children:"Provided passwords are not the same"}),(0,a.jsx)("button",{type:"submit",className:"".concat(p().applyBtn," ").concat(p().marginBottom),style:m.length>=8&&g.length>=8&&b.length>=8?{backgroundColor:"#ff2f2f"}:{cursor:"not-allowed",backgroundColor:"#e7e7e7",color:"#000",outline:"none"},children:"Save"})]}),f&&(0,a.jsx)("div",{onClick:function(){return _(!1)},className:l().successBar,children:"Password changed successfully"}),L]})}},520:function(e){e.exports={button:"Components_button__BY9YS",whiteButton:"Components_whiteButton__ZIUDv",redButton:"Components_redButton__5XsJr",textInput:"Components_textInput__xi2s6",btnWrapper:"Components_btnWrapper__pVph0",cancelBtn:"Components_cancelBtn__D5X_g",applyBtn:"Components_applyBtn__QcY2Q",moreBanner:"Components_moreBanner__Qeo6x",bannerOption:"Components_bannerOption__QuB5k",bannerText:"Components_bannerText__KsWGP",transparentLayer:"Components_transparentLayer__8SrQE",err:"Components_err__TWstW",xIcon:"Components_xIcon__N98h2",imgON:"Components_imgON__f_deP",imgOFF:"Components_imgOFF__c7y04",layer:"Components_layer__eFSk2",deleteBanner:"Components_deleteBanner__vq_hj",cancel:"Components_cancel__9pr49",delete:"Components_delete__0_IGi",editWrap:"Components_editWrap__fm7H1",textArea:"Components_textArea__xsDtq",Xmarker:"Components_Xmarker__joTSX",Not:"Components_Not__0sfJh",marginBottom:"Components_marginBottom__o8J3b"}},1147:function(e){e.exports={bar:"EditProfile_bar__8eAHp",wrap:"EditProfile_wrap__quNyR",imgWrap:"EditProfile_imgWrap__2vCqL",img:"EditProfile_img__yTfpH",close:"EditProfile_close__AKrJt",successBar:"EditProfile_successBar__Uw9xr"}},6699:function(e){e.exports={errorBanner:"Error_errorBanner__EDEUS",errMessage:"Error_errMessage__EAG1J",hide:"Error_hide__LPa3Y",custom500:"Error_custom500__Q8T4b",h500:"Error_h500__KOR9p",errWrap:"Error_errWrap__8zg74"}},1664:function(e,n,r){e.exports=r(8418)}},function(e){e.O(0,[669,774,888,179],(function(){return n=6039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);