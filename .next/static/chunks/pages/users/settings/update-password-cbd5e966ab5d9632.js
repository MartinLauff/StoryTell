(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{6039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/settings/update-password",function(){return t(9422)}])},6471:function(e,n,t){"use strict";var r=t(5666),o=t.n(r),a=t(5893),s=t(9669),i=t.n(s),u=t(7294),c=t(6699),l=t.n(c);function f(e,n,t,r,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void t(c)}i.done?n(u):Promise.resolve(u).then(r,o)}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}n.Z=function(e){var n,t=e.url,r=e.method,s=e.headers,c=e.body,d=e.onSuccess,_=(0,u.useState)(null),h=_[0],m=_[1];return{doRequest:(n=o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(null),e.next=4,i()({method:r,url:t,data:p({},c),headers:s});case 4:return n=e.sent,d&&d(n.data),e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),e.t0.response.data.message?m((0,a.jsxs)("div",{onClick:function(){return m(null)},className:l().errorBanner,children:[(0,a.jsx)("h4",{children:"Invalid parameters"}),(0,a.jsx)("ul",{style:{listStyle:"none"},children:e.t0.response.data.message.split(",").map((function(e){return(0,a.jsx)("li",{children:e.split(":").pop().replace("jwt malformed","You are not logged in!")},e)}))})]})):m((0,a.jsxs)("div",{onClick:function(){return m(null)},className:l().errorBanner,children:[(0,a.jsx)("h4",{children:"Ooops...."}),(0,a.jsx)("ul",{style:{listStyle:"none"},children:e.t0.response.data.errors.map((function(e){return(0,a.jsx)("li",{children:e.message},e.message)}))})]}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function s(e){f(a,r,o,s,i,"next",e)}function i(e){f(a,r,o,s,i,"throw",e)}s(void 0)}))}),errors:h}}},8418:function(e,n,t){"use strict";function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.default=void 0;var o,a=(o=t(7294))&&o.__esModule?o:{default:o},s=t(6273),i=t(387),u=t(7190);var c={};function l(e,n,t,r){if(e&&s.isLocalURL(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[n+"%"+t+(o?"%"+o:"")]=!0}}var f=function(e){var n,t=!1!==e.prefetch,o=i.useRouter(),f=a.default.useMemo((function(){var n=r(s.resolveHref(o,e.href,!0),2),t=n[0],a=n[1];return{href:t,as:e.as?s.resolveHref(o,e.as):a||t}}),[o,e.href,e.as]),d=f.href,p=f.as,_=e.children,h=e.replace,m=e.shallow,v=e.scroll,y=e.locale;"string"===typeof _&&(_=a.default.createElement("a",null,_));var g=(n=a.default.Children.only(_))&&"object"===typeof n&&n.ref,x=r(u.useIntersection({rootMargin:"200px"}),2),w=x[0],b=x[1],C=a.default.useCallback((function(e){w(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,w]);a.default.useEffect((function(){var e=b&&t&&s.isLocalURL(d),n="undefined"!==typeof y?y:o&&o.locale,r=c[d+"%"+p+(n?"%"+n:"")];e&&!r&&l(o,d,p,{locale:n})}),[p,d,b,y,t,o]);var j={ref:C,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,a,i,u){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(t))&&(e.preventDefault(),null==i&&r.indexOf("#")>=0&&(i=!1),n[o?"replace":"push"](t,r,{shallow:a,locale:u,scroll:i}))}(e,o,d,p,h,m,v,y)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),s.isLocalURL(d)&&l(o,d,p,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var L="undefined"!==typeof y?y:o&&o.locale,E=o&&o.isLocaleDomain&&s.getDomainLocale(p,L,o&&o.locales,o&&o.domainLocales);j.href=E||s.addBasePath(s.addLocale(p,L,o&&o.defaultLocale))}return a.default.cloneElement(n,j)};n.default=f},7190:function(e,n,t){"use strict";function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!s,u=o.useRef(),c=r(o.useState(!1),2),l=c[0],f=c[1],d=o.useCallback((function(e){u.current&&(u.current(),u.current=void 0),t||l||e&&e.tagName&&(u.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=i.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return i.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,a=r.observer,s=r.elements;return s.set(e,n),a.observe(e),function(){s.delete(e),a.unobserve(e),0===s.size&&(a.disconnect(),i.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:n}))}),[t,n,l]);return o.useEffect((function(){if(!s&&!l){var e=a.requestIdleCallback((function(){return f(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[l]),[d,l]};var o=t(7294),a=t(9311),s="undefined"!==typeof IntersectionObserver;var i=new Map},9422:function(e,n,t){"use strict";t.r(n);var r=t(5666),o=t.n(r),a=t(5893),s=t(7294),i=t(1664),u=t(1955),c=t(6471),l=t(1147),f=t.n(l),d=t(520),p=t.n(d);function _(e,n,t,r,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void t(c)}i.done?n(u):Promise.resolve(u).then(r,o)}n.default=function(){var e,n=(0,s.useState)(!1),t=n[0],r=n[1],l=(0,s.useState)(!1),d=l[0],h=l[1],m=(0,s.useState)(""),v=m[0],y=m[1],g=(0,s.useState)(""),x=g[0],w=g[1],b=(0,s.useState)(""),C=b[0],j=b[1],L=(0,c.Z)({url:"/api/users/update-password",method:"put",body:{currentPassword:v,newPassword:x},headers:{Authorization:"Bearer "+u.Z.get("jwt")}}),E=L.doRequest,k=L.errors,P=(e=o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!1),v&&x&&C){e.next=4;break}return e.abrupt("return");case 4:if(x===C){e.next=6;break}return e.abrupt("return",r(!0));case 6:return e.next=8,E();case 8:e.sent&&(h(!0),y(""),w(""),j(""));case 10:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function s(e){_(a,r,o,s,i,"next",e)}function i(e){_(a,r,o,s,i,"throw",e)}s(void 0)}))});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:f().bar,children:[(0,a.jsx)(i.default,{href:"/users/my-profile",children:(0,a.jsx)("a",{style:{height:"2rem"},children:(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10 10L19 19M1 19L10 10L1 19ZM19 1L9.99828 10L19 1ZM9.99828 10L1 1L9.99828 10Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,a.jsx)("h2",{children:"Password"})]}),(0,a.jsxs)("form",{onSubmit:P,className:f().wrap,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Current Password"}),(0,a.jsx)("input",{onChange:function(e){return y(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"New Password"}),(0,a.jsx)("input",{onChange:function(e){return w(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Confirm New Password"}),(0,a.jsx)("input",{onChange:function(e){return j(e.target.value)},className:p().textInput,type:"password",minLength:"8",maxLength:"20",required:!0})]})]}),t&&(0,a.jsx)("span",{style:{fontSize:"var(--fs-mid)"},className:p().err,children:"Provided passwords are not the same"}),(0,a.jsx)("button",{type:"submit",className:"".concat(p().applyBtn," ").concat(p().marginBottom),style:v.length>=8&&x.length>=8&&C.length>=8?{backgroundColor:"#ff2f2f"}:{cursor:"not-allowed",backgroundColor:"#e7e7e7",color:"#000",outline:"none"},children:"Save"})]}),d&&(0,a.jsx)("div",{onClick:function(){return h(!1)},className:f().successBar,children:"Password changed successfully"}),k]})}},520:function(e){e.exports={button:"Components_button__BY9YS",whiteButton:"Components_whiteButton__ZIUDv",redButton:"Components_redButton__5XsJr",textInput:"Components_textInput__xi2s6",btnWrapper:"Components_btnWrapper__pVph0",cancelBtn:"Components_cancelBtn__D5X_g",applyBtn:"Components_applyBtn__QcY2Q",moreBanner:"Components_moreBanner__Qeo6x",bannerOption:"Components_bannerOption__QuB5k",bannerText:"Components_bannerText__KsWGP",transparentLayer:"Components_transparentLayer__8SrQE",err:"Components_err__TWstW",xIcon:"Components_xIcon__N98h2",imgON:"Components_imgON__f_deP",imgOFF:"Components_imgOFF__c7y04",layer:"Components_layer__eFSk2",deleteBanner:"Components_deleteBanner__vq_hj",cancel:"Components_cancel__9pr49",delete:"Components_delete__0_IGi",editWrap:"Components_editWrap__fm7H1",textArea:"Components_textArea__xsDtq",Xmarker:"Components_Xmarker__joTSX",Not:"Components_Not__0sfJh",marginBottom:"Components_marginBottom__o8J3b"}},1147:function(e){e.exports={bar:"EditProfile_bar__8eAHp",wrap:"EditProfile_wrap__quNyR",imgWrap:"EditProfile_imgWrap__2vCqL",img:"EditProfile_img__yTfpH",close:"EditProfile_close__AKrJt",successBar:"EditProfile_successBar__Uw9xr"}},6699:function(e){e.exports={errorBanner:"Error_errorBanner__EDEUS",errMessage:"Error_errMessage__EAG1J",hide:"Error_hide__LPa3Y"}},1664:function(e,n,t){e.exports=t(8418)}},function(e){e.O(0,[842,774,888,179],(function(){return n=6039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);